| Author          | Created on | Version   | Last updated by |  Internal Reviewer | L0  | L1  | L2  |
|-----------------|------------|-----------|------------------|--------------------|-----|-----|-----|
| Aditya Tripathi | 28-04-25   | version 1 | N/A              | Priyanshu        | Khushi | Rishabh | Piyush |

## Table of Contents

1. [**Introduction**](#introduction)  
2. [**Objective**](#objective)  
3. [**Architecture**](#architecture)  
4. [**System Requirements**](#system-requirements)  
5. [**Setup Requirements**](#setup-requirements)  
6. [**Required Ports**](#required-ports)  
7. [**Capabilities**](#capabilities)  
8. [**Dependencies**](#dependencies)  
9. [**Installation Guide for employee-api**](#installation-guide-for-employee-api)  
10. [**Data Storage & Caching Mechanisms**](#data-storage--caching-mechanisms)  
    - [1. ScyllaDB Details](#1-scylladb-details)  
    - [2. Redis Details](#2-redis-details)  
11. [**Final Thoughts**](#final-thoughts)  
12. [**Endpoints Information**](#endpoints-information)  
13. [**Contact Information**](#contact-information)  
14. [**Reference Links**](#reference-links)

## Introduction

The Employee API is a RESTful Application Programming Interface developed in Golang, crafted specifically for the management of employee details. This system incorporates ScyllaDB to serve as its main database and utilizes Redis to handle caching tasks. The API has been constructed using the Gin framework, ensuring rapid and scalable handling of REST-based operations.

## Objective

The Employee API functions as a Go-language microservice intended to oversee all data and processes related to employees within the OT-Microservices framework. It acts as a unified backend service dedicated to the storage and retrieval of employee information. As a platform-independent application, it can operate on numerous operating systems. Execution of this application necessitates the presence of the Go runtime environment.

## Architecture

![Architectural Diagram](https://github.com/user-attachments/assets/50d18e52-0e94-48d3-9db7-28ba439e819f)

## System Requirements

| Hardware Specifications |  Recommendation      |
| :-------------------- | :--------------------- |
| Processor             | dual-core              |
| RAM                   | 4GB                    |
| Disk                  | 30GB                   |
| OS                    | Ubuntu (22.04)         |

## Setup Requirements

| Component     | Requirement                                                                                                           |
|---------------|------------------------------------------------------------------------------------------------------------------------|
| Go (Golang)   | Version 1.18 is required.                                                                                              |
| ScyllaDB      | Access to a configured ScyllaDB instance with required keyspaces and tables. VM should have at least 20 GB RAM.       |
| Redis (Optional) | Recommended for enabling caching, but not strictly required.                                                       |

## Required Ports

Below are the essential ports used by the Employee REST API microservice:

| **Port** | **Service**     | **Description**                                                                 |
|----------|------------------|---------------------------------------------------------------------------------|
| `8080`   | Employee API     | Main API server and Swagger UI accessible at `/swagger/index.html`            |
| `9042`   | ScyllaDB         | Default port for CQL connections used by the database                          |
| `6379`   | Redis (optional) | Default port for Redis used as a caching layer                                 |

## Capabilities

| Capability                  | Explanation                                                                                               |
| :-------------------------- | :-------------------------------------------------------------------------------------------------------- |
| **CRUD Functionality**      | Offers complete Create, Read, Update, and Delete actions for managing employee data records.              |
| **High-Speed Storage**      | Built using ScyllaDB, which is optimized for distributed, high-volume workloads using a Cassandra-like API. |
| **Redis Caching Layer**     | Provides optional integration with Redis to cache frequently retrieved employee data, improving response speed and reducing database pressure. |
| **API Specification**       | Features automatically updated, interactive API documentation generated by Swagger, facilitating easy endpoint testing and understanding. |
| **Scalable & Efficient**    | Developed with Go for optimal performance and concurrency, allowing for scalability and managing high volumes of requests effectively. |

## Dependencies

| Technology        | Purpose                                                                                                           |
| :---------------- | :---------------------------------------------------------------------------------------------------------------- |
| **Go (Golang) 1.22**| The core programming language, selected due to its performance characteristics, simplicity, and ability to handle concurrent operations efficiently. |
| **ScyllaDB**        | A distributed NoSQL database known for high availability and compatibility with Cassandra, optimized for applications demanding low latency and high throughput. |
| **Redis**           | An in-memory data repository employed for caching data that is accessed often, thereby minimizing database interactions and accelerating API response delivery. |
| **Swagger**         | A tool that automatically creates API documentation that is both accessible and interactive through a web-based interface. |
| **Make**    | A build automation utility used to execute repetitive development tasks (such as compiling the application or applying migrations) defined within a Makefile. |
| **Migrate**         | A database migration management tool that guarantees the database schema remains consistent with the application's structural needs. |
| **JQ**              | A command-line utility for processing JSON, useful for parsing and manipulating JSON formatted data.             |

## Installation Guide for employee-api

You can follow the [employee api poc](https://github.com/Cloud-NInja-snaatak/Documentation/blob/Tharik_SCRUM-83/ot_ms_understanding/application/employee/setup.md) to install the install and start the api.

## Data Storage & Caching Mechanisms

This microservice makes use of ScyllaDB and Redis to manage data storage and retrieval effectively. Each component fulfills a specific function within the application:

### 1. ScyllaDB Details

ScyllaDB serves as the principal persistent database for the Employee API. It is tasked with storing all fundamental employee-associated data, including employee particulars, locations, and job roles.

#### Rationale for ScyllaDB

ScyllaDB is a fast, NoSQL database compatible with Cassandra, designed for low latency and high throughput. Its distributed and fault-tolerant architecture ensures scalability and data reliability. Itâ€™s used in the Employee API to efficiently manage growing employee records.

For comprehensive setup instructions, refer to the [ScyllaDB Documentation](LINK).

### 2. Redis Details

Redis acts as an in-memory caching layer designed to boost performance by temporarily holding data that is frequently accessed.

#### Rationale for Redis

Redis is an in-memory data store that enables extremely fast data retrieval, making it ideal for caching. It reduces load on ScyllaDB by minimizing repeated queries. Though optional, using Redis improves API speed and overall efficiency.

For comprehensive setup instructions, refer to the [Redis Documentation](LINK).

## Final Thoughts

This Employee API demonstrates a thoughtful balance between performance, scalability, and maintainability within a microservices environment. Its integration of ScyllaDB and optional Redis caching ensures responsiveness under load, while modular design enables easy collaboration and growth. Well-documented and production-ready, it sets a strong precedent for future APIs in the OT Microservices suite.

## Endpoints Information

| **Endpoint**                        | **Method** | **Description**                                                                                   |
|-------------------------------------|------------|---------------------------------------------------------------------------------------------------|
| /metrics                            | GET        | Application healthcheck and performance metrics are available on this endpoint                    |
| /api/v1/employee/health             | GET        | Endpoint for providing shallow healthcheck information about application health and readiness     |
| /api/v1/employee/health/detail      | GET        | Endpoint for providing detailed health check about dependencies as well like - ScyllaDB and Redis |
| /api/v1/employee/create             | POST       | Data creation endpoint which accepts certain JSON body to add employee information in database    |
| /api/v1/employee/search             | GET        | Endpoint for searching data information using the params in the URL                               |
| /api/v1/employee/search/all         | GET        | Endpoint for searching all information across the system                                          |
| /api/v1/employee/search/location    | GET        | Application endpoint for getting the count and information of location                            |
| /api/v1/employee/search/designation | GET        | Application endpoint for getting the count and information of designation                         |
| /swagger/index.html                 | GET        | Swagger endpoint for the application API documentation and their data models                      |

## Contact Information

| Name         | Email address          |
|--------------|------------------------|
| Aditya Tripathi          | aditya.tripathi.snaatak@mygurukulam.co     |

## Reference Links

| Links | Description      |
|-----  |--------------------------|
| [Application Template](https://github.com/OT-MICROSERVICES/documentation-template/wiki/Application-Template) | documentation-template |
| [Employee-API repo](https://github.com/OT-MICROSERVICES/employee-api/tree/main?tab=readme-ov-file) | Employee-api | 
| [What is scyllaDB](https://www.simplyblock.io/glossary/what-is-scylladb/)    | A walk from basic to advance on Scylladb |
| [What is Redis](https://www.geeksforgeeks.org/introduction-to-redis-server/) | Detail Doc. on Redis |
